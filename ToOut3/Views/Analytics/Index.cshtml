@model AnalyticsModel
@{
    ViewData["Title"] = "Analytics";
}

<section class="grating text-center">
    <div class="container">
        <h1>- Analytics -</h1>
    </div>
</section>
<section>
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-sm-12">
                <div class="text-center">
                    <h2>Student Selection Analytics </h2>
                </div>
            </div>
            @{ char i = 'a';}
            @foreach (var item in Model.DepartmentSelection)
            {                  
                <div class="col-lg-6 col-sm-12 ">
                    <div id="@i" style="width: 600px; height: 350px;"></div>
                </div>
                i++;
            }
        </div>
    </div>
</section>

<section>
    <div class="container">
        <div class="col-12">
            <div class="text-center">
                <h2>Max and Min GPA for each department</h2>
            </div><br />
            <div class="col-12">
                <div>
                    <table class="table table-active">
                        <tr>
                            <th bgcolor="#FFF" style="border-color:white"></th>
                            <th>Max</th>
                            <th>Min</th>
                        </tr>
                        @foreach (var item in Model.minMaxes)
                        {
                            <tr>
                                <th>@item.DepName</th>
                                <td>@item.Max</td>
                                <td>@item.Min</td>
                            </tr>
                        }
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>
<br /><br />











<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    google.charts.load("current", { packages: ["corechart"] });
    google.charts.setOnLoadCallback(drawChart);
    function drawChart() {
        //first
        var data = google.visualization.arrayToDataTable([
            ['Department', 'num'],
             
                @foreach (var item2 in Model.DepartmentSelection["First Selection"])
                {
                         <Text>

                    ['@item2.name',@item2.num],
                     </Text>
                 }           

        ]);
        var options = {
            title: 'First Selection',
            pieHole: 0.4,
        };
        var chart = new google.visualization.PieChart(document.getElementById('a'));
        chart.draw(data, options);


        //Second
        var data2 = google.visualization.arrayToDataTable([
            ['Department', 'num'],
             
                @foreach (var item2 in Model.DepartmentSelection["Second Selection"])
                {
                         <Text>

                    ['@item2.name',@item2.num],
                     </Text>
                 }           

        ]);
        var options = {
            title: 'Second Selection',
            pieHole: 0.4,
        };
        var chart2 = new google.visualization.PieChart(document.getElementById('b'));
        chart2.draw(data2, options);
        //Third
         var data3 = google.visualization.arrayToDataTable([
            ['Department', 'num'],
             
                @foreach (var item2 in Model.DepartmentSelection["Third Selection"])
                {
                         <Text>

                    ['@item2.name',@item2.num],
                     </Text>
                 }           

        ]);
        var options = {
            title: 'Third Selection',
            pieHole: 0.4,
        };
        var chart3 = new google.visualization.PieChart(document.getElementById('c'));
        chart3.draw(data3, options);

        //Fourth
        var data4 = google.visualization.arrayToDataTable([
            ['Department', 'num'],
             
                @foreach (var item2 in Model.DepartmentSelection["Fourth Selection"])
                {
                         <Text>

                    ['@item2.name',@item2.num],
                     </Text>
                 }           

        ]);
        var options = {
            title: 'Fourth Selection',
            pieHole: 0.4,
        };
        var chart4 = new google.visualization.PieChart(document.getElementById('d'));
        chart4.draw(data4, options);


    }

    @*function drawChart2() {
        var data = google.visualization.arrayToDataTable([
            ['Department', 'num'],

            
                <Text>
                @foreach (var item2 in Model.DepartmentSelection["Second Selection"])
                {
                <Text>

                    ['@item2.name',@item2.num],
                </Text>
                 }
                </Text>
                

            


        ]);
        var options = {
            title: 'Second Selection',
            pieHole: 0.4,
        };

        var chart = new google.visualization.PieChart(document.getElementById('b'));
        chart.draw(data, options);
    }*@






                
    








</script>



@*<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <script type="text/javascript">
    // Load google charts
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    // Draw the chart and set the chart values
    function drawChart() {
      var data = google.visualization.arrayToDataTable([
      ['Department', 'Student number'],
      ['CS', 3],
      ['SE', 2],
      ['IT', 9],
      ['IS', 0],
      ['BS', 1]

        ]);
        var data2 = google.visualization.arrayToDataTable([
        @foreach (var item in Model.DepartmentSelection)
        {

            @for (int i=0;i<item.Value.Count;i++)
             {
                if (i == 4) {
                              <text>
                     ['sc',2]
                 </text>
                }
                else {
                 <text>
                     ['s',2],
                 </text>
                }

            }

            }
        ]);
        // Optional; add a title and set the width and height of the chart
        var options = {
            title: 'My Daily Activities',
            pieHole: 0.4,
        };

      // Display the chart inside the <div> element with id="piechart"
        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        //var chart2 = new google.visualization.PieChart(document.getElementById('piechart2'));
        //var chart3 = new google.visualization.PieChart(document.getElementById('piechart3'));
        //var chart4 = new google.visualization.PieChart(document.getElementById('piechart4'));
        chart.draw(data, options);
        //chart2.draw(data, options);
        //chart3.draw(data, options);
        //chart4.draw(data, options);
    }
    </script>*@
